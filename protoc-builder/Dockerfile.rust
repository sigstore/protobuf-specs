FROM rust:1.90.0@sha256:04e1ac6306fa0b45212aa46c2b9e0235868d37434d632da17e92cef9c27be2f0

COPY --from=protoc-base:rust /protobuf/bin/protoc /usr/local/bin/
COPY --from=protoc-base:rust /protobuf/include/google /opt/include/google
COPY --from=protoc-base:rust /googleapis /googleapis

# this is not protoc because we will call Rust's prost crate to do the compilation
ENTRYPOINT [ "/bin/bash" ]
