FROM rust:1.85.0@sha256:caa4a0e7bd1fe2e648caf3d904bc54c3bfcae9e74b4df2eb9ebe558c9e9e88c5

COPY --from=protoc-base:rust /protobuf/bin/protoc /usr/local/bin/
COPY --from=protoc-base:rust /protobuf/include/google /opt/include/google
COPY --from=protoc-base:rust /googleapis /googleapis

# this is not protoc because we will call Rust's prost crate to do the compilation
ENTRYPOINT [ "/bin/bash" ]
